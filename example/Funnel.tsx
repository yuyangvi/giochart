import * as React from "react";
import { DrawParamsProps, Source} from "../src/ChartProps";
import Chart from "../src/Chart";
// import ContextListener from "../src/ContextListener";

const c = JSON.parse('{"aggregator":[0.17963111467522053],"chartType":"funnel","columns":[{"id":"tm","name":"时间","isDim":true,"isRate":false},{"id":"metric_name","name":"指标","isDim":true,"isRate":false},{"id":"conversion","name":"转化人数","isDim":false,"isRate":false},{"id":"conversion_rate","name":"转化率","isDim":false,"isRate":true}]}');
const s = JSON.parse('[{"tm":1507478400000,"metric_name":"总转化率","conversion":26,"conversion_rate":0.21311475409836064},{"tm":1507478400000,"metric_name":"第 1 步转化率","conversion":26,"conversion_rate":0.21311475409836064},{"tm":1507564800000,"metric_name":"总转化率","conversion":27,"conversion_rate":0.22131147540983606},{"tm":1507564800000,"metric_name":"第 1 步转化率","conversion":27,"conversion_rate":0.22131147540983606},{"tm":1507651200000,"metric_name":"总转化率","conversion":15,"conversion_rate":0.14150943396226415},{"tm":1507651200000,"metric_name":"第 1 步转化率","conversion":15,"conversion_rate":0.14150943396226415},{"tm":1507737600000,"metric_name":"总转化率","conversion":16,"conversion_rate":0.14678899082568808},{"tm":1507737600000,"metric_name":"第 1 步转化率","conversion":16,"conversion_rate":0.14678899082568808},{"tm":1507824000000,"metric_name":"总转化率","conversion":15,"conversion_rate":0.16666666666666666},{"tm":1507824000000,"metric_name":"第 1 步转化率","conversion":15,"conversion_rate":0.16666666666666666},{"tm":1507910400000,"metric_name":"总转化率","conversion":6,"conversion_rate":0.20689655172413793},{"tm":1507910400000,"metric_name":"第 1 步转化率","conversion":6,"conversion_rate":0.20689655172413793},{"tm":1507996800000,"metric_name":"总转化率","conversion":5,"conversion_rate":0.2},{"tm":1507996800000,"metric_name":"第 1 步转化率","conversion":5,"conversion_rate":0.2},{"tm":1508083200000,"metric_name":"总转化率","conversion":19,"conversion_rate":0.1450381679389313},{"tm":1508083200000,"metric_name":"第 1 步转化率","conversion":19,"conversion_rate":0.1450381679389313},{"tm":1508169600000,"metric_name":"总转化率","conversion":19,"conversion_rate":0.1623931623931624},{"tm":1508169600000,"metric_name":"第 1 步转化率","conversion":19,"conversion_rate":0.1623931623931624},{"tm":1508256000000,"metric_name":"总转化率","conversion":23,"conversion_rate":0.2},{"tm":1508256000000,"metric_name":"第 1 步转化率","conversion":23,"conversion_rate":0.2},{"tm":1508342400000,"metric_name":"总转化率","conversion":22,"conversion_rate":0.16176470588235295},{"tm":1508342400000,"metric_name":"第 1 步转化率","conversion":22,"conversion_rate":0.16176470588235295},{"tm":1508428800000,"metric_name":"总转化率","conversion":23,"conversion_rate":0.22330097087378642},{"tm":1508428800000,"metric_name":"第 1 步转化率","conversion":23,"conversion_rate":0.22330097087378642},{"tm":1508515200000,"metric_name":"总转化率","conversion":4,"conversion_rate":0.17391304347826086},{"tm":1508515200000,"metric_name":"第 1 步转化率","conversion":4,"conversion_rate":0.17391304347826086},{"tm":1508601600000,"metric_name":"总转化率","conversion":4,"conversion_rate":0.21052631578947367},{"tm":1508601600000,"metric_name":"第 1 步转化率","conversion":4,"conversion_rate":0.21052631578947367}]');

const Funnel = (props: any) => (
    <Chart chartParams={c} source={s} />
);
export default Funnel;
